/*! audero-sticky.js 0.1.2 | Aurelio De Rosa (@AurelioDeRosa) | MIT/GPL-3.0 Licensed */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.Sticky=b()}(this,function(){"use strict";function a(a,b,c){var d=document.createEvent("Event");d.initEvent(b,!0,!0);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);a.dispatchEvent(d)}function b(a,b){b.forEach(function(b){a[b]=""})}function c(a,b,c){c||(c=Object.keys(b)),c.forEach(function(c){a[c]=b[c]})}function d(a,b){var c=[].slice.call(document.querySelectorAll(b));return c.indexOf(a)+1}function e(a){var b={};for(var c in a)b[c]=a[c]+"px";return b}function f(a){b(a.element.style,n.concat(["marginTop","marginBottom"])),a.element.style.position=a._position,a._placeholder&&a._placeholder.parentNode&&a._placeholder.parentNode.removeChild(a._placeholder)}function g(a){var b={},c=window.getComputedStyle(a),d=a.parentNode.getBoundingClientRect();return"auto"!==c.top?(b.start=a.getBoundingClientRect().top-parseFloat(c.top),b.end=d.bottom):(b.start=a.getBoundingClientRect().bottom+parseFloat(c.bottom),b.end=d.top),b.start+=window.pageYOffset,b.end+=window.pageYOffset,b}function h(a){var b=a.element.getBoundingClientRect();c(a._placeholder.style,window.getComputedStyle(a.element),["top","bottom","marginTop","marginBottom","marginLeft","marginRight"]),c(a._placeholder.style,e(b),["width","height","left"])}function i(b){function d(){h(b),b._position=b.element.style.position,c(b.element.style,{position:"fixed",marginTop:0,marginBottom:0}),c(b.element.style,b._placeholder.style,n),b.element.parentNode.insertBefore(b._placeholder,b.element),k=!0,a(b.element,"stickystart")}function e(){f(b),k=!1,a(b.element,"stickyend")}function i(){l=g(k?b._placeholder:b.element);var a=~~parseFloat(window.getComputedStyle(b.element).height),c=l.end-a-window.pageYOffset,f=window.pageYOffset>=l.start&&window.pageYOffset<=l.end;f?(k||d(),b.element.style.top=c-o>=0?"":c+"px"):k&&e()}function j(){l=g(k?b._placeholder:b.element);var a=~~parseFloat(window.getComputedStyle(b.element).height),c=window.pageYOffset+window.innerHeight,f=l.end+a-c,h=c<=l.start&&c>=l.end;h?(k||d(),b.element.style.bottom=0>=f+o?"":-f+"px"):k&&e()}var k=!1,l=g(b.element),m=window.getComputedStyle(b.element),o="auto"!==m.top?parseFloat(m.top):parseFloat(m.bottom);return"auto"!==m.top?i:j}function j(a){return function(){window.removeEventListener("resize",a._handlers.resize),a.destroy(),a.init(),a._handlers.scroll()}}function k(a){window.addEventListener("load",a._handlers.scroll),window.addEventListener("scroll",a._handlers.scroll),window.addEventListener("resize",a._handlers.resize)}function l(a,b){this.element=a,this.settings=b||m,this._placeholder=null,this._position="",this._handlers={}}var m={selector:".sticky"},n=["width","height","left","marginLeft","marginRight","zIndex"];return l.isFeatureSupported=function(){var a=document.createElement("div");return a.style.cssText="position:sticky",!!a.style.position},l.autoInit=function(a){a=a||m,[].forEach.call(document.querySelectorAll(a.selector),function(b){var c=new l(b,a);c.init()})},l.prototype.init=function(){var a=this.element.getBoundingClientRect();this._placeholder=document.createElement("div"),this._handlers.scroll=i(this),this._handlers.resize=j(this),this._placeholder.style.zIndex=d(this.element,this.settings.selector),c(this._placeholder.style,window.getComputedStyle(this.element),["top","bottom","marginTop","marginBottom","marginLeft","marginRight"]),c(this._placeholder.style,e(a),["width","height","left"]),k(this)},l.prototype.destroy=function(){f(this),window.removeEventListener("scroll",this._handlers.scroll),window.removeEventListener("resize",this._handlers.resize),this._handlers={},this._position="",this._placeholder=null},l});
//# sourceMappingURL=audero-sticky.min.js.map