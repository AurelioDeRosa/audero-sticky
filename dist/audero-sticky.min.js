/*! audero-sticky.js 0.2.0 | Aurelio De Rosa (@AurelioDeRosa) | MIT/GPL-3.0 Licensed */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.Sticky=b()}(this,function(){"use strict";function a(a,b){return a[v]&&b?a[v][b]:a[v]}function b(a,b,c){if(a[v]||(a[v]={}),"string"==typeof b)return void(a[v][b]=c);for(var d in b)b.hasOwnProperty(d)&&(a[v][d]=b[d])}function c(a){delete a[v]}function d(a,b,c){var d=document.createEvent("Event");d.initEvent(b,!0,!0);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);a.dispatchEvent(d)}function e(a){var b={};a=a||{};for(var c in t)t.hasOwnProperty(c)&&(b[c]=a[c]||t[c]);return b}function f(a,b){var c=new RegExp("\\b"+b+"\\b");c.test(a.className)||(a.className+=" "+b)}function g(a,b){var c=new RegExp("\\b"+b+"\\b");a.className=a.className.replace(c,"").trim()}function h(a){var b,c;return f(a.element,a.settings.activeClass),b=window.getComputedStyle(a.element),c={marginBottom:b.marginBottom,marginTop:b.marginTop},g(a.element,a.settings.activeClass),c}function i(a,b){b.forEach(function(b){a[b]=""})}function j(a,b,c){c||(c=Object.keys(b)),c.forEach(function(c){a[c]=b[c]})}function k(a,b){var c=[].slice.call(document.querySelectorAll(b));return c.indexOf(a)+1}function l(a){var b={};for(var c in a)b[c]=a[c]+"px";return b}function m(b){var c=a(b.element);i(b.element.style,u.concat(["marginTop","marginBottom"])),b.element.style.position=c.position,c.placeholder&&c.placeholder.parentNode&&c.placeholder.parentNode.removeChild(c.placeholder)}function n(a,b){var c={},d=window.getComputedStyle(a),e=a.parentNode.getBoundingClientRect();return"auto"!==d.top?(c.start=a.getBoundingClientRect().top-parseFloat(d.top),c.end=e.bottom-~~parseFloat(b.marginBottom)):(c.start=a.getBoundingClientRect().bottom+parseFloat(d.bottom),c.end=e.top+~~parseFloat(b.marginTop)),c.start+=window.pageYOffset,c.end+=window.pageYOffset,c}function o(b){var c=b.element.getBoundingClientRect(),d=a(b.element,"placeholder");j(d.style,window.getComputedStyle(b.element),["top","bottom","marginTop","marginBottom","marginLeft","marginRight"]),j(d.style,l(c),["width","height","left"])}function p(c){function e(){o(c),b(c.element,"position",c.element.style.position),j(c.element.style,{position:"fixed"}),j(c.element.style,t.placeholder.style,u),c.element.parentNode.insertBefore(t.placeholder,c.element),p=!0,d(c.element,"stickystart"),f(c.element,c.settings.activeClass)}function i(){m(c),p=!1,d(c.element,"stickyend"),g(c.element,c.settings.activeClass)}function k(){r=p?n(t.placeholder,q):n(c.element,q);var a=~~parseFloat(window.getComputedStyle(c.element).height),b=r.end-a-window.pageYOffset,d=window.pageYOffset>=r.start&&window.pageYOffset<=r.end;d?(p||e(),c.element.style.top=b-v>=0?"":b+"px"):p&&i()}function l(){r=p?n(t.placeholder,q):n(c.element,q);var a=~~parseFloat(window.getComputedStyle(c.element).height),b=window.pageYOffset+window.innerHeight,d=r.end+a-b,f=b<=r.start&&b>=r.end;f?(p||e(),c.element.style.bottom=0>=d+v?"":-d+"px"):p&&i()}var p=!1,q=h(c),r=n(c.element,q),s=window.getComputedStyle(c.element),t=a(c.element),v="auto"!==s.top?parseFloat(s.top):parseFloat(s.bottom);return"auto"!==s.top?k:l}function q(b){return function(){var c=a(b.element,"handlers");window.removeEventListener("resize",c.resize),b.destroy(),b.init(),c.scroll()}}function r(b){var c=a(b.element,"handlers");window.addEventListener("load",c.scroll),window.addEventListener("scroll",c.scroll),window.addEventListener("resize",c.resize)}function s(a,c){this.element=a,this.settings=e(c),b(this.element,{handlers:{},placeholder:null,position:""})}var t={selector:".sticky",activeClass:"sticky--active"},u=["width","height","left","marginLeft","marginRight","zIndex"],v="auderoSticky";return s.isFeatureSupported=function(){var a=document.createElement("div");return a.style.cssText="position:sticky",!!a.style.position},s.autoInit=function(a){var b=a&&a.selector?a.selector:t.selector;[].forEach.call(document.querySelectorAll(b),function(b){var c=new s(b,a);c.init()})},s.prototype.init=function(){var a=this.element.getBoundingClientRect(),c=document.createElement(this.element.nodeName);b(this.element,{handlers:{scroll:p(this),resize:q(this)},placeholder:c}),j(c.style,{visibility:"hidden",zIndex:k(this.element,this.settings.selector)}),j(c.style,window.getComputedStyle(this.element),["top","bottom","marginTop","marginBottom","marginLeft","marginRight"]),j(c.style,l(a),["width","height","left"]),r(this)},s.prototype.destroy=function(){var b=a(this.element,"handlers");m(this),window.removeEventListener("scroll",b.scroll),window.removeEventListener("resize",b.resize),c(this.element)},s});
//# sourceMappingURL=audero-sticky.min.js.map