/*! audero-sticky.js 0.1.2 | Aurelio De Rosa (@AurelioDeRosa) | MIT/GPL-3.0 Licensed */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.Sticky=b()}(this,function(){"use strict";function a(a,b,c){var d=document.createEvent("Event");d.initEvent(b,!0,!0);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);a.dispatchEvent(d)}function b(a){var b={};a=a||{};for(var c in p)p.hasOwnProperty(c)&&(b[c]=a[c]||p[c]);return b}function c(a,b){var c=new RegExp("\\b"+b+"\\b");c.test(a.className)||(a.className+=" "+b)}function d(a,b){var c=new RegExp("\\b"+b+"\\b");a.className=a.className.replace(c,"").trim()}function e(a,b){b.forEach(function(b){a[b]=""})}function f(a,b,c){c||(c=Object.keys(b)),c.forEach(function(c){a[c]=b[c]})}function g(a,b){var c=[].slice.call(document.querySelectorAll(b));return c.indexOf(a)+1}function h(a){var b={};for(var c in a)b[c]=a[c]+"px";return b}function i(a){e(a.element.style,q.concat(["marginTop","marginBottom"])),a.element.style.position=a._position,a._placeholder&&a._placeholder.parentNode&&a._placeholder.parentNode.removeChild(a._placeholder)}function j(a){var b={},c=window.getComputedStyle(a),d=a.parentNode.getBoundingClientRect();return"auto"!==c.top?(b.start=a.getBoundingClientRect().top-parseFloat(c.top),b.end=d.bottom):(b.start=a.getBoundingClientRect().bottom+parseFloat(c.bottom),b.end=d.top),b.start+=window.pageYOffset,b.end+=window.pageYOffset,b}function k(a){var b=a.element.getBoundingClientRect();f(a._placeholder.style,window.getComputedStyle(a.element),["top","bottom","marginTop","marginBottom","marginLeft","marginRight"]),f(a._placeholder.style,h(b),["width","height","left"])}function l(b){function e(){k(b),b._position=b.element.style.position,f(b.element.style,{position:"fixed",marginTop:0,marginBottom:0}),f(b.element.style,b._placeholder.style,q),b.element.parentNode.insertBefore(b._placeholder,b.element),m=!0,a(b.element,"stickystart"),c(b.element,b.settings.activeClass)}function g(){i(b),m=!1,a(b.element,"stickyend"),d(b.element,b.settings.activeClass)}function h(){n=j(m?b._placeholder:b.element);var a=~~parseFloat(window.getComputedStyle(b.element).height),c=n.end-a-window.pageYOffset,d=window.pageYOffset>=n.start&&window.pageYOffset<=n.end;d?(m||e(),b.element.style.top=c-p>=0?"":c+"px"):m&&g()}function l(){n=j(m?b._placeholder:b.element);var a=~~parseFloat(window.getComputedStyle(b.element).height),c=window.pageYOffset+window.innerHeight,d=n.end+a-c,f=c<=n.start&&c>=n.end;f?(m||e(),b.element.style.bottom=0>=d+p?"":-d+"px"):m&&g()}var m=!1,n=j(b.element),o=window.getComputedStyle(b.element),p="auto"!==o.top?parseFloat(o.top):parseFloat(o.bottom);return"auto"!==o.top?h:l}function m(a){return function(){window.removeEventListener("resize",a._handlers.resize),a.destroy(),a.init(),a._handlers.scroll()}}function n(a){window.addEventListener("load",a._handlers.scroll),window.addEventListener("scroll",a._handlers.scroll),window.addEventListener("resize",a._handlers.resize)}function o(a,c){this.element=a,this.settings=b(c),this._placeholder=null,this._position="",this._handlers={}}var p={selector:".sticky",activeClass:"sticky--active"},q=["width","height","left","marginLeft","marginRight","zIndex"];return o.isFeatureSupported=function(){var a=document.createElement("div");return a.style.cssText="position:sticky",!!a.style.position},o.autoInit=function(a){a=a||p,[].forEach.call(document.querySelectorAll(a.selector),function(b){var c=new o(b,a);c.init()})},o.prototype.init=function(){var a=this.element.getBoundingClientRect();this._placeholder=document.createElement("div"),this._handlers.scroll=l(this),this._handlers.resize=m(this),this._placeholder.style.zIndex=g(this.element,this.settings.selector),f(this._placeholder.style,window.getComputedStyle(this.element),["top","bottom","marginTop","marginBottom","marginLeft","marginRight"]),f(this._placeholder.style,h(a),["width","height","left"]),n(this)},o.prototype.destroy=function(){i(this),window.removeEventListener("scroll",this._handlers.scroll),window.removeEventListener("resize",this._handlers.resize),this._handlers={},this._position="",this._placeholder=null},o});
//# sourceMappingURL=audero-sticky.min.js.map